# ===========================================
# WallStreetSim Environment Configuration
# ===========================================
# Copy this file to .env and fill in the values.
# All sensitive values should be replaced with secure secrets.

# ----------------- Database -----------------
# PostgreSQL connection (required)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://wss_user:YOUR_PASSWORD@localhost:5432/wallstreetsim

# Redis connection (required)
# Format: redis://:password@host:port or redis://host:port
REDIS_URL=redis://:YOUR_PASSWORD@localhost:6379

# ClickHouse connection (optional - for analytics)
# Format: http://user:password@host:port
CLICKHOUSE_URL=http://wss_user:YOUR_PASSWORD@localhost:8123

# ----------------- Auth & Security -----------------
# Minimum 32 characters each. Generate with: openssl rand -hex 32
JWT_SECRET=your-64-character-jwt-secret-here
API_SECRET=your-64-character-api-secret-here

# ----------------- Server -----------------
# Environment mode
NODE_ENV=development

# Web server port (Next.js frontend)
PORT=3000

# API server port (Fastify backend)
API_PORT=8080

# Tick engine interval in milliseconds
TICK_INTERVAL_MS=1000

# ----------------- URLs -----------------
# API base URL (used in config endpoint)
API_BASE_URL=https://api.wallstreetsim.com

# WebSocket URL (used in config endpoint)
WS_URL=wss://api.wallstreetsim.com

# Client-side URLs (exposed to browser)
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_WS_URL=ws://localhost:8080

# ----------------- Socket.io -----------------
# Enable Redis adapter for horizontal scaling (true/false)
SOCKET_REDIS_ADAPTER=false

# Enable automatic recovery on reconnect (true/false)
SOCKET_AUTO_RECOVERY=true

# ----------------- Logging -----------------
# Global log level: trace, debug, info, warn, error, fatal, silent
LOG_LEVEL=debug

# Service-specific log levels (optional, overrides LOG_LEVEL)
# LOG_LEVEL_API=info
# LOG_LEVEL_ENGINE=debug

# Enable file logging (true/false, defaults to true in production)
# LOG_FILE_ENABLED=false

# ----------------- External APIs (Optional) -----------------
# Get free API key from: https://finnhub.io/
FINNHUB_API_KEY=

# Get free API key from: https://alpaca.markets/
ALPACA_API_KEY=
ALPACA_SECRET=

# For AI news generation: https://platform.openai.com/
OPENAI_API_KEY=

# ----------------- Docker Credentials -----------------
# Used by docker-compose.db.yml (not used by app directly)
POSTGRES_USER=wss_user
POSTGRES_PASSWORD=YOUR_PASSWORD
POSTGRES_DB=wallstreetsim
CLICKHOUSE_PASSWORD=YOUR_PASSWORD
REDIS_PASSWORD=YOUR_PASSWORD
